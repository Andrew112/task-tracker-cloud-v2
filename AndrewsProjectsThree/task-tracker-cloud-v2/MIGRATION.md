# Amplify Gen 2 Migration Complete ✅

This project has been migrated from Amplify Gen 1 to Gen 2.

## What Changed

- ✅ Removed Gen 1 CLI configuration files
- ✅ Reorganized to Gen 2 backend structure
- ✅ Updated dependencies for Gen 2
- ✅ Created proper `amplify/backend.ts` entry point
- ✅ Updated `.gitignore` for Gen 2 patterns

## Prerequisites

Before proceeding, ensure you have:

1. **AWS Account** - You need an active AWS account
2. **AWS CLI** - Installed and configured with your credentials
3. **Node.js** - Version 16.10 or higher
4. **Yarn** - Package manager (recommended) or npm

### AWS CLI Setup

If you haven't set up AWS CLI yet:

```bash
# Install AWS CLI (example for macOS)
brew install awscli

# Configure your credentials
aws configure

# Verify configuration
aws sts get-caller-identity
```

## Next Steps

### 1. Install Dependencies
```bash
cd AndrewsProjectsThree/task-tracker-cloud-v2
yarn install
```

### 2. Start the Sandbox (Development)

**⚠️ REQUIRED:** This step deploys your backend to AWS and generates the `amplify_outputs.json` configuration file:

```bash
yarn sandbox
```

The sandbox will:
- Deploy your backend to AWS in a personal development environment
- Generate `amplify_outputs.json` with real configuration values
- Watch for changes and auto-deploy
- Create isolated resources that won't affect other developers

**Keep this terminal running** while you develop. The sandbox maintains your backend resources.

### 3. Start Your Frontend
In a new terminal:
```bash
cd AndrewsProjectsThree/task-tracker-cloud-v2
yarn dev
```

The application will be available at `http://localhost:5173`.

### 4. Deploy to Production (Optional)
When ready to deploy to production:
```bash
yarn deploy
```

## Important Notes

- **AWS Credentials Required:** You must have AWS CLI configured with valid credentials before running any Amplify commands
- **Backend Must Be Deployed:** The `amplify_outputs.json` file is generated by `yarn sandbox` or `yarn deploy` and contains sensitive configuration
- **File is Gitignored:** `amplify_outputs.json` contains sensitive API keys and is automatically excluded from version control
- **Per-Developer Setup:** Each developer should run `yarn sandbox` locally to get their own isolated backend environment

## Troubleshooting

### "Cannot find module '../amplify_outputs.json'"
**Cause:** The Amplify backend hasn't been deployed yet.
**Solution:** Run `yarn sandbox` to deploy the backend and generate the configuration file.

### "No AWS credentials found" or "Access Denied"
**Cause:** AWS CLI is not configured or lacks necessary permissions.
**Solution:** 
1. Run `aws configure` and provide your AWS credentials
2. Ensure your AWS user/role has permissions to create Amplify resources
3. Verify with `aws sts get-caller-identity`

### Sandbox deployment fails
**Common causes:**
- Invalid AWS credentials
- Insufficient AWS permissions
- Network connectivity issues
- AWS service quotas reached

**Solution:** Check the error message in the terminal and ensure:
- Your AWS credentials are valid
- Your account has necessary permissions
- You have internet connectivity
- Your AWS account has available service quotas

## Resources

- [Amplify Gen 2 Documentation](https://docs.amplify.aws/gen2/)
- [Data Modeling Guide](https://docs.amplify.aws/gen2/build-a-backend/data/)
- [Sandbox Documentation](https://docs.amplify.aws/gen2/deploy-and-host/sandbox-environments/)
